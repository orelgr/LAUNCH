# מערכת הגדרות דינמיות - GmarUp

## מה חדש? 🎉

כעת כל השינויים שתבצע בפאנל האדמין יעודכנו **באופן אוטומטי** בכל האתר!

## איך זה עובד?

### 1. שינוי הגדרות בפאנל האדמין
- היכנס לפאנל האדמין ← **הגדרות מערכת**
- שנה את הפרטים הרלוונטיים:
  - **קישור קבוצת וואטסאפ** - יעדכן בכל כפתורי הווטסאפ באתר
  - **מספר ביט לתרומות** - יעדכן את כל קישורי התשלום
  - **אימייל אדמין** - יעדכן את כל האימיילים לפניות
  - **כותרת האתר** - יעדכן את כותרת האתר

### 2. שמירת השינויים
- לחץ על כפתור **"שמור הגדרות"**
- השינויים יישמרו במסד הנתונים

### 3. עדכון אוטומטי באתר
השינויים יעודכנו **מיידית** במקומות הבאים:

#### 📱 דף הבית (index.html):
- כפתור "הצטרף לקבוצת עדכונים" ← קישור ווטסאפ חדש
- "צור קשר" ← אימייל חדש
- כל מספרי הטלפון ← מספר חדש
- כפתורי תרומה ← מספר ביט חדש

#### 🙏 דף תודה (thank-you.html):
- כפתור "הצטרף לקבוצת עדכונים" ← קישור ווטסאפ חדש
- פרטי צור קשר ← אימייל וטלפון חדשים
- תרומות ← מספר ביט חדש

#### 👨‍💻 פאנל האדמין:
- טלפון תמיכה בדף הכניסה ← מספר חדש

## דוגמאות לשינויים:

### 📞 שינוי מספר טלפון:
**לפני:** 050-227-7660  
**אחרי:** 052-123-4567  
**תוצאה:** כל המקומות באתר יעודכנו למספר החדש

### 📧 שינוי אימייל תמיכה:
**לפני:** info@gmarup.co.il  
**אחרי:** support@gmarup.co.il  
**תוצאה:** כל קישורי "צור קשר" יעודכנו

### 📱 שינוי קבוצת ווטסאפ:
**לפני:** https://chat.whatsapp.com/LNmVCXvv35S9SsbWTol2qW  
**אחרי:** https://chat.whatsapp.com/NewGroupLink  
**תוצאה:** כל כפתורי הווטסאפ יפנו לקבוצה החדשה

## איך זה פועל מבחינה טכנית?

1. **API Endpoint:** `/api/settings` - מספק את ההגדרות הנוכחיות
2. **JavaScript:** `dynamic-settings.js` - טוען ההגדרות ומעדכן הדף
3. **עדכון אוטומטי:** הדף נטען מחדש כל פעם שמשתמש נכנס
4. **Fallback:** אם השרת לא זמין, משתמש בהגדרות ברירת מחדל

## טיפים וכלים:

### ✅ כך תדע שזה עובד:
- פתח את קונסול הדפדפן (F12)
- חפש הודעות: `🔧 Loading dynamic settings...` ו `✅ Dynamic settings loaded`

### 🔧 בדיקה מהירה:
1. שנה משהו בפאנל האדמין
2. לך לדף הבית
3. בדוק שהשינוי בוצע

### 🚨 פתרון בעיות:
- אם שינוי לא עובד - רענן את הדף (F5)
- בדוק שהשרת Flask פועל
- בדוק את הקונסול לשגיאות

## קבצים שנוספו/שונו:

### קבצים חדשים:
- `js/dynamic-settings.js` - הלוגיקה הראשית
- `dynamic-settings-guide.md` - המדריך הזה

### קבצים שעודכנו:
- `server.py` - נוסף `/api/settings` endpoint
- `index.html` - נוסף הסקריפט החדש
- `thank-you.html` - נוסף הסקריפט החדש ועודכנו פונקציות
- `admin.html` - עדכון מספר טלפון דינמי
- `js/main.js` - עדכון פונקציות לשימוש בהגדרות דינמיות
- `database/init_db.py` - הגדרות ברירת מחדל

---

**🎯 תוצאה:** כעת האתר משתמש בהגדרות האדמין באופן דינמי ואוטומטי!